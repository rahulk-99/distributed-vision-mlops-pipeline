apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: spatial-flow-cluster
  region: us-east-2

managedNodeGroups:
  - name: gpu-workers
    instanceType: g4dn.xlarge
    minSize: 1
    maxSize: 1
    desiredCapacity: 1
    volumeSize: 50
    # CRITICAL FOR BUDGET: Use Spot Instances (Spare capacity)
    # Cost: ~$0.15/hr instead of ~$0.53/hr
    # spot: true # DISABLED: Caused timeout. Using On-Demand for reliability. 
    iam:
      withAddonPolicies:
        autoScaler: true
        ebs: true
        fsx: true
        efs: true
